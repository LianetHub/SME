(()=>{"use strict";"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),$((function(){const e={Android:()=>/Android/i.test(navigator.userAgent),BlackBerry:()=>/BlackBerry/i.test(navigator.userAgent),iOS:()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),Opera:()=>/Opera Mini/i.test(navigator.userAgent),Windows:()=>/IEMobile/i.test(navigator.userAgent),any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}};function t(){e.any()||$(window).width()<992?$("body").removeClass("_pc").addClass("_touch"):$("body").removeClass("_touch").addClass("_pc")}function s(e,t){let s=!1,n=null;function o(){window.innerWidth<=767.98?s||(s=!0,n=new Swiper(e,t)):s&&(n.destroy(),n=null,s=!1)}o(),window.addEventListener("resize",o)}function n(){var e=$(".header__wrapper").outerHeight()/parseFloat($("html").css("font-size"));$("body").css("--header-height",e+"rem")}t(),$(window).on("resize",(()=>{t()})),$(document).on("click",(e=>{const t=$(e.target);if(t.closest(".header__menu-btn").length&&$(".header").toggleClass("open-menu"),t.is(".wrapper")&&$(".header").hasClass("open-menu")&&$(".header").removeClass("open-menu"),t.closest(".faq__item").length){const e=t.closest(".faq__item");e.toggleClass("active"),e.find(".faq__item-answer").slideToggle()}if(t.closest(".sign-lesson__location-selected").length){const e=t.closest(".sign-lesson__location-selected"),s=e.siblings(".sign-lesson__location-list");e.toggleClass("active"),s.toggleClass("open")}if(t.closest(".sign-lesson__location").length||($(".sign-lesson__location-selected").removeClass("active"),$(".sign-lesson__location-list").removeClass("open")),t.closest(".sign-lesson__location-item").length){const e=t.closest(".sign-lesson__location-item"),s=e.closest(".sign-lesson__location"),n=s.find(".sign-lesson__location-selected"),o=s.find(".sign-lesson__location-list"),i=$(".sign-lesson__content");o.find(".sign-lesson__location-item").removeClass("active"),e.addClass("active"),n.text(e.text()),n.removeClass("active"),o.removeClass("open"),i.removeClass("active").eq(e.index()).addClass("active")}if(t.closest(".form__tooltip").length){const e=t.closest(".promo__form"),s=e.siblings(".promo__info");e.addClass("hidden"),s.removeClass("hidden")}if(t.closest(".promo__info-close").length){const e=t.closest(".promo__info"),s=e.siblings(".promo__form");e.addClass("hidden"),s.removeClass("hidden")}if(t.is(".header__location-btn")&&(t.toggleClass("active"),$(".header__location-list").toggleClass("active")),$("body").hasClass("_touch")&&t.closest(".menu__link").length&&t.closest(".menu__item.has-children").length){e.preventDefault();const s=t.closest(".menu__link"),n=s.next(".submenu"),o=s.hasClass("active");$(".menu__link").removeClass("active"),$(".submenu").removeClass("open"),o||(s.addClass("active"),n.addClass("open"))}t.closest(".submenu__close").length&&($(".menu__link").removeClass("active"),$(".submenu").removeClass("open"))})),$(".atmosphere__slider").length&&new Swiper(".atmosphere__slider",{spaceBetween:10,slidesPerView:1.15,navigation:{prevEl:".atmosphere__prev",nextEl:".atmosphere__next"},pagination:{el:".atmosphere__pagination",clickable:!0},breakpoints:{797.98:{slidesPerView:1,spaceBetween:0}}}),$(".languages__slider").length&&new Swiper(".languages__slider",{slidesPerView:"auto",spaceBetween:20,watchOverflow:!0,pagination:{clickable:!0,el:".languages__pagination"},breakpoints:{991.98:{spaceBetween:19,slidesPerView:5},1199.98:{spaceBetween:36,slidesPerView:5}}}),$(".programms__slider").length&&new Swiper(".programms__slider",{slidesPerView:"auto",spaceBetween:20,watchOverflow:!0,pagination:{clickable:!0,el:".programms__pagination"},breakpoints:{991.98:{spaceBetween:40,slidesPerView:3},1199.98:{spaceBetween:72,slidesPerView:3}}}),$(".prices__slider").length&&$(".prices__slider").each((function(e,t){const s=$(t),n=s.find(".prices__slider-pagination");new Swiper(s[0],{slidesPerView:"auto",watchOverflow:!0,pagination:{clickable:!0,el:n[0]}})})),$(".why__body").length&&s(".why__body",{spaceBetween:20,slidesPerView:"auto",pagination:{clickable:!0,el:".why__pagination"}}),$(".best-teachers__slider").length&&s(".best-teachers__slider",{spaceBetween:20,slidesPerView:"auto",pagination:{clickable:!0,el:".best-teachers__pagination"}}),$(".contacts__gallery-slider").length&&new Swiper(".contacts__gallery-slider",{spaceBetween:10,slidesPerView:1,navigation:{prevEl:".contacts__gallery-prev",nextEl:".contacts__gallery-next"},pagination:{el:".contacts__gallery-pagination",clickable:!0},breakpoints:{576.98:{spaceBetween:0}}}),new IntersectionObserver((e=>{e[0].isIntersecting?$(".header").removeClass("scroll"):$(".header").addClass("scroll")})).observe($(".header")[0]),n(),$(window).on("resize",(function(){n()}));class o{static openDropdown=null;constructor(e){this.$select=$(e),this.defaultText=this.$select.find("option:selected").text(),this.selectName=this.$select.attr("name"),this.$options=this.$select.find("option"),this.icon=this.$select.data("icon"),this.title=this.$select.data("title"),this.$dropdown=null,this.initialState={},this.init()}init(){this.$select.length&&(this.saveInitialState(),this.$select.addClass("hidden"),this.renderDropdown(),this.setupEvents())}saveInitialState(){const e=this.$select.find("option:selected");this.initialState={selectedText:e.text(),selectedValue:e.val()}}renderDropdown(){const e=this.$select.is(":disabled");let t="";t=this.icon?`\n                    <button type="button" class="dropdown__button icon-chevron" \n                        aria-expanded="false" \n                        aria-haspopup="true" \n                        ${e?"disabled":""}>\n                        <span class="dropdown__button-icon ${this.icon}"></span>\n                        <span class="dropdown__button-text">${this.defaultText}</span>\n                    </button>\n                `:this.title?`\n                    <button type="button" class="dropdown__button icon-chevron" \n                        aria-expanded="false" \n                        aria-haspopup="true" \n                        ${e?"disabled":""}>\n                        <span class="dropdown__button-column">\n                            <span class="dropdown__button-caption">${this.title}</span>\n                            <span class="dropdown__button-text">${this.defaultText}</span>\n                        </span>\n                    </button>\n                `:`\n                    <button type="button" class="dropdown__button icon-chevron" \n                        aria-expanded="false" \n                        aria-haspopup="true" \n                        ${e?"disabled":""}>\n                        <span class="dropdown__button-text">${this.defaultText}</span>\n                    </button>\n                `,this.$dropdown=$(`\n                <div class="dropdown">\n                    ${t}\n                    <div class="dropdown__body" aria-hidden="true">\n                        <ul class="dropdown__list" role="listbox"></ul>\n                    </div>\n                </div>\n            `);const s=this.$dropdown.find(".dropdown__list");this.$options.each(((e,t)=>{const n=$(t),o=n.attr("value"),i=n.text(),a=n.is(":selected"),l=n.is(":disabled");s.append(`\n                    <li role="option"\n                        data-value="${o}"\n                        aria-checked="${a}"\n                        class="dropdown__list-item${a?" selected":""}${l?" disabled":""}" \n                        ${l?'aria-disabled="true"':""}>\n                        ${i}\n                    </li>\n                `)})),this.$select.after(this.$dropdown)}setupEvents(){this.$dropdown.find(".dropdown__button").on("click",(e=>{e.stopPropagation();const t=this.$dropdown.hasClass("visible");this.toggleDropdown(!t)})),this.$dropdown.find(".dropdown__list-item").on("click",(e=>{e.stopPropagation();const t=$(e.currentTarget);t.hasClass("disabled")||this.selectOption(t)})),$(document).on("click",(()=>this.closeDropdown())),$(document).on("keydown",(e=>{"Escape"===e.key&&this.closeDropdown()})),this.$select.closest("form").on("reset",(()=>this.restoreInitialState())),new MutationObserver((()=>{const e=this.$select.is(":disabled"),t=this.$dropdown.find(".dropdown__button");e?t.prop("disabled",!0):t.prop("disabled",!1)})).observe(this.$select[0],{attributes:!0,attributeFilter:["disabled"]}),new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"disabled"===e.attributeName){const t=$(e.target),s=t.attr("value"),n=t.is(":disabled"),o=this.$dropdown.find(`.dropdown__list-item[data-value="${s}"]`);o.toggleClass("disabled",n),n?o.attr("aria-disabled","true"):o.removeAttr("aria-disabled")}"attributes"===e.type&&"selected"===e.attributeName&&this.syncSelectedOption()}))})).observe(this.$select[0],{childList:!0,subtree:!0,attributes:!0,attributeFilter:["selected","disabled"]})}toggleDropdown(e){e&&o.openDropdown&&o.openDropdown!==this&&o.openDropdown.closeDropdown();const t=this.$dropdown.find(".dropdown__body"),s=this.$dropdown.find(".dropdown__list"),n=s[0].scrollHeight>s[0].clientHeight;if(this.$dropdown.toggleClass("visible",e),this.$dropdown.find(".dropdown__button").attr("aria-expanded",e),t.attr("aria-hidden",!e),e){o.openDropdown=this,this.$dropdown.removeClass("dropdown-top");const e=t[0].getBoundingClientRect(),i=window.innerHeight;e.bottom>i&&this.$dropdown.addClass("dropdown-top"),s.toggleClass("has-scroll",n)}else o.openDropdown===this&&(o.openDropdown=null)}closeDropdown(){this.toggleDropdown(!1)}selectOption(e){const t=e.data("value"),s=e.text();this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false"),e.addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button-text").text(s),this.$select.val(t).trigger("change"),this.closeDropdown()}restoreInitialState(){const e=this.initialState;this.$select.val(e.selectedValue).trigger("change"),this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false"),this.$dropdown.find(`.dropdown__list-item[data-value="${e.selectedValue}"]`).addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button-text").text(e.selectedText)}syncSelectedOption(){const e=this.$select.find("option:selected"),t=e.val(),s=e.text();this.$dropdown.find(".dropdown__list-item").removeClass("selected").attr("aria-checked","false"),this.$dropdown.find(`.dropdown__list-item[data-value="${t}"]`).addClass("selected").attr("aria-checked","true"),this.$dropdown.find(".dropdown__button-text").text(s)}}$(".select").each(((e,t)=>{new o(t)})),$(".phone-input").length>0&&$(".phone-input").each((function(e,t){let s=intlTelInput(t,{utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",initialCountry:"ru",separateDialCode:!0}),n=o();function o(){let e;return e="ru"==s.j?"({{999}}) {{999}}-{{99}}-{{99}}":"{{9999999999999999999999}}",e}t.addEventListener("countrychange",(function(){n=o(),$(t).formatter().resetPattern(n)})),$(t).formatter({pattern:n})}))}))})();